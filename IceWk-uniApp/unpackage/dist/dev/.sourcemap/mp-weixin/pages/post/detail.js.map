{"version":3,"sources":["uni-app:///main.js","webpack:////Users/szevasz/Szevasz/studio/IceCMS-main/IceWk-uniApp/pages/post/detail.vue?d347","webpack:////Users/szevasz/Szevasz/studio/IceCMS-main/IceWk-uniApp/pages/post/detail.vue?01f8","webpack:////Users/szevasz/Szevasz/studio/IceCMS-main/IceWk-uniApp/pages/post/detail.vue?b9e6","webpack:////Users/szevasz/Szevasz/studio/IceCMS-main/IceWk-uniApp/pages/post/detail.vue?eed8","uni-app:///pages/post/detail.vue","webpack:////Users/szevasz/Szevasz/studio/IceCMS-main/IceWk-uniApp/pages/post/detail.vue?0746","webpack:////Users/szevasz/Szevasz/studio/IceCMS-main/IceWk-uniApp/pages/post/detail.vue?6c93"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","unitId","postId","postDetail","comment","media","comment_list","topic_info","topic_name","userInfo","avatar","focus","isSubmitD","commentList","placeholder","form","pid","type","to_uid","post_id","content","showShare","showCanvas","page","loadStatus","isVoteExpire","computed","timestamp","onShow","onLoad","withShareTicket","menus","onReachBottom","onShareAppMessage","console","imgURL","title","path","imageUrl","onShareTimeline","query","methods","toMy","uni","url","appShares","provider","href","summary","success","icon","duration","that","fail","appShare","scene","voteSubmit","voteDate","post","id","vote","then","castVote","delComment","onCopy","saveImgToAlbum","x","y","width","height","canvasId","filePath","shareCanvas","mask","context","coverSrc","coverImg","qrCode","tempQrCode","drawText","lineWidth","ctx","initHeight","lastSubStrIndex","titleHeight","rowNum","downloadFile","resolve","getQrCode","get","onThumbs","cancelThumbs","onReply","onBlur","getCommentList","jumpUser","addComment","getPostDetail","res","cancelCollection","addCollection","uid","addThumb","cancelThumb","follow","cancelFollow","previewImage","current","urls","image","currentTarget","dataset","jumpVip"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,aAAa,iPAEN;AACP,KAAK;AACL;AACA,aAAa,iPAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/HA;AAAA;AAAA;AAAA;AAAm1B,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCoNv2B;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;UACAN;QACA;QACAO;UACAC;QACA;QACAC;UACAC;QACA;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;EAAA,CACA;EACAC;IACA;IAEA;MACA;IACA;IAEA;IACA;IACA;IAGAlC;MACAmC;MACAC;IACA;EAEA;EACAC;IACA;IACA;EACA;EACAC;IACA;MACA;MACAC;IACA;IACA;IACA;MACAC;IACA;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;MACAH;MACAE;MACAE;IACA;EACA;EACAC;IACAC;MACAC;QACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACAF;QACAG;QAAA;QACA7B;QAAA;QACA8B;QAAA;QACAC;QAAA;QACAZ;QAAA;QACAE;QAAA;QACAW;UACAN;YACAP;YACAc;YACAC;UACA;UACAC;QACA;;QACAC;UACAV;YACAP;YACAc;YACAC;UACA;UACAC;QACA;MACA;IACA;IACAE;MACA;MACA;MACA;MACA;MACAX;QACAG;QAAA;QACAS;QAAA;QACAtC;QAAA;QACA8B;QAAA;QACAC;QAAA;QACAZ;QAAA;QACAE;QAAA;QACAW;UACAN;YACAP;YACAc;YACAC;UACA;UACAC;QACA;;QACAC;UACAV;YACAP;YACAc;YACAC;UACA;UACAC;QACA;MACA;IACA;IACAI;MAAA;MACA;MACA;QACA;UACAC;QACA;MACA;MAEA,QACAC;QACAC;QACAC;MACA,GACAC;QACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YACA;UACA;QACA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MAEA;QACA;MACA;MAEApB;QACAP;QACAhB;QACA6B;UACA;YACAG,QACAM;cACAC;YACA,GACAE;cACA;gBACA;kBACAT;gBACA;kBACAA;gBACA;cACA;YACA;UACA;YACA;UAAA;QAEA;MACA;IACA;IACAY;MACA;MACArB;QACA3C;QACAiD;UACAN;YACAP;UACA;QACA;MACA;IACA;IACA;IACA6B;MACA;MACAtB;QACAuB;QACAC;QACAC;QACAC;QACAC;QACArB;UACAN;YACA4B;YACAtB;cACAG;YACA;UACA;QACA;MACA;IACA;IACA;IACAoB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA7B;kBACA8B;kBACArC;gBACA;gBAEA;gBACA;gBACAsC,kDAEA;gBACAA;gBACAA;;gBAEA;;gBAEA;kBACAC;gBACA;kBACAA;gBACA;gBAAA;gBAAA,OAEA;cAAA;gBAAAC;gBACAF;;gBAEA;gBACAA;gBACAA;gBACA;;gBAEA;gBACAA;gBACAA;gBACAA;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAG;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAJ;gBAEAA;gBAEA/B;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAoC;MACA;MACA;MACA;MACA;QACAC;QACA;UACAC;UACAC;UACAF;UACAG;UACAC;UAEAC;QACA;QACA;UACA;UACAJ;QACA;MACA;MACA;MACAG;MACA;IACA;IACAE;MACA;QACA3C;UACAC;UACAK;YACAsC;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA,UACAC;UACA9B;QACA,GACAE;UACA0B;QACA;MACA;IACA;IACA;IACAG;MAAA;MACA,QACAhC;QACAC;MACA,GACAE;QACA;UACA;YACA;YACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACA8B;MAAA;MACA,QACAjC;QACAC;MACA,GACAE;QACA;UACA;YACA;YACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACA+B;MACA;MACA;MAEA;MACA;QACA;MACA;QACA;MACA;MAEA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA,QACAL;QACAtE;QACAI;MACA,GACAsC;QACA;UACA;UAEA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAkC;MACApD;QACAC;MACA;IACA;IACAoD;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;MAEArD;QACA8B;QACArC;MACA;MAEA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;QACA;QACAO;MACA;IACA;IACAsD;MAAA;MACA,QACAR;QACA9B;MACA,GACAE;QACA;;QAEA;QACA;UACAqC;YACA;UACA;UAEA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA,QACAzC;QACAC;MACA,GACAE;QACA;UACA;UACA;QACA;MACA;IACA;IACAuC;MAAA;MACA,QACA1C;QACAC;QACA0C;MACA,GACAxC;QACA;UACA;UACA;QACA;MACA;IACA;IACAyC;MAAA;MACA,QACA5C;QACAC;MACA,GACAE;QACA;UACA;QACA;MACA;IACA;IACA0C;MAAA;MACA,QACA7C;QACAC;QACA0C;MACA,GACAxC;QACA;UACA;QACA;MACA;IACA;IACA2C;MAAA;MACA,QACA9C;QACAC;MACA,GACAE;QACA;UACA;QACA;UACA;YACAzB;YACAnB;UACA;QACA;MACA;IACA;IACAwF;MAAA;MACA,QACA/C;QACAC;MACA,GACAE;QACA;UACA;QACA;MACA;IACA;IACA6C;MACA;MACA;QACAvF;MACA;QACA;UACAiC;UACAT;YACAgE,iCACAA;YAAA;YACAC;UACA;QACA;UACAxD;UACA;YACAT;cACAgE,iCACAA;cAAA;cACAC;YACA;UACA;YACAxD;YACAT;cACAP;cACAhB;cACA6B;gBACA;kBACAG,QACAM;oBACAvC;kBACA,GACA0C;oBACA3B;oBACA;sBACAS;wBACAgE,iCACAA;wBAAA;wBACAC,8BACAC;sBACA;oBACA;sBACAlE;wBACAP;wBACAhB;wBACA6B;0BACA;4BACAG,QACAM;8BACAvC;4BACA,GACA0C;8BACA;gCACAlB;kCACAgE,WACAG,cACAC,QACAJ;kCAAA;kCACAC,QACAE,cACAC,QACAF;gCACA;8BACA;gCACAzD,cACA,kBACA;gCACAA;8BACA;4BACA;0BACA;4BACAlB;0BACA;wBACA;sBACA;oBACA;kBACA;gBACA;kBACAA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA8E;MACArE;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/1BA;AAAA;AAAA;AAAA;AAAslD,CAAgB,27CAAG,EAAC,C;;;;;;;;;;;ACA1mD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/post/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/post/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3c0a1cb7&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=3c0a1cb7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c0a1cb7\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/post/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=3c0a1cb7&scoped=true&\"","var components\ntry {\n  components = {\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uAvatar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-avatar/u-avatar\" */ \"@/uni_modules/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uLoadmore: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uni_modules/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-empty/u-empty\" */ \"@/uni_modules/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    qButton: function () {\n      return import(\n        /* webpackChunkName: \"components/q-button/q-button\" */ \"@/components/q-button/q-button.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"timeFrom\")(_vm.postDetail.create_time)\n  var g0 = _vm.postDetail.type == 1 ? _vm.postDetail.media.length : null\n  var g1 = _vm.postDetail.type == 1 ? _vm.postDetail.media.length : null\n  var g2 = _vm.postDetail.type == 1 ? _vm.postDetail.media.length : null\n  var g3 = _vm.postDetail.type == 2 && _vm.postDetail.media.length > 0\n  var f1 =\n    _vm.postDetail.type === 4 && !_vm.isVoteExpire\n      ? _vm._f(\"date\")(\n          _vm.postDetail.vote_info.expire_time,\n          \"yyyy年mm月dd日hh时MM分\"\n        )\n      : null\n  var g4 = _vm.postDetail.topic_id\n    ? _vm.postDetail.topic_info.topic_name.substring(0, 15)\n    : null\n  var g5 = _vm.commentList.length\n  var l1 = _vm.__map(_vm.commentList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var f2 = _vm._f(\"timeFrom\")(item.create_time)\n    var g6 = item.children.length\n    var l0 = _vm.__map(item.children, function (item2, index2) {\n      var $orig = _vm.__get_orig(item2)\n      var f3 = g6 > 0 ? _vm._f(\"timeFrom\")(item2.create_time) : null\n      return {\n        $orig: $orig,\n        f3: f3,\n      }\n    })\n    return {\n      $orig: $orig,\n      f2: f2,\n      g6: g6,\n      l0: l0,\n    }\n  })\n  var g7 = _vm.commentList.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.focus = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.showShare = true\n    }\n    _vm.e2 = function ($event) {\n      _vm.showShare = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        f1: f1,\n        g4: g4,\n        g5: g5,\n        l1: l1,\n        g7: g7,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"info-box\">\n\t\t\t<view class=\"user-item\">\n\t\t\t\t<image @click=\"jumpUser(postDetail.uid)\" mode=\"aspectFill\" :src=\"postDetail.userInfo.avatar\"></image>\n\t\t\t\t<view class=\"user-item-user\">\n\t\t\t\t\t<text v-if=\"postDetail.userInfo.vip_expire_time > timestamp\" style=\"color: red;\" class=\"user-name\">{{ postDetail.userInfo.username }}</text>\n\t\t\t\t\t<text v-else class=\"user-name\">{{ postDetail.userInfo.username }}</text>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"cxplain\">{{ postDetail.userInfo.intro }}</view>\n\t\t\t\t</view>\n\t\t\t\t<u-button v-show=\"postDetail.is_follow\" size=\"mini\" style=\"float:right;font-size: 14px;\"\n\t\t\t\t\t@click=\"cancelFollow\">已关注</u-button>\n\t\t\t\t<u-button v-show=\"!postDetail.is_follow\" size=\"mini\" style=\"float:right;font-size: 14px;\"\n\t\t\t\t\t@click=\"follow\">关注</u-button>\n\t\t\t</view>\n\t\t\t<view class=\"icon\">\n\t\t\t\t<text>{{ postDetail.create_time | timeFrom }}</text>\n\t\t\t\t<text style=\"margin-left: 20rpx;color: red;\">需打赏{{ postDetail.integral}}音叶</text>\n\t\t\t</view>\n\t\t\t<view class=\"hr\"></view>\n\t\t\t<view class=\"post-title\">{{ postDetail.title }}</view>\n\t\t\t<text class=\"post-text\" @longpress=\"onCopy\" :user-select=\"true\">{{ postDetail.content }}</text>\n\t\t\t<!-- 图片 -->\n\t\t\t<block v-if=\"postDetail.type == 1\">\n\t\t\t\t<!--一张图片-->\n\t\t\t\t<block v-if=\"postDetail.media.length == 1\">\n\t\t\t\t\t<image class=\"img-style-1\" @tap.stop=\"previewImage\" mode=\"aspectFill\"\n\t\t\t\t\t\t:data-current=\"postDetail.media[0]\" :data-image=\"postDetail.media\" :src=\"postDetail.media[0]\">\n\t\t\t\t\t</image>\n\t\t\t\t</block>\n\t\t\t\t<!--二张图片-->\n\t\t\t\t<block v-if=\"postDetail.media.length == 2\">\n\t\t\t\t\t<view class=\"img-style-2\">\n\t\t\t\t\t\t<image v-for=\"(mediaItem, index2) in postDetail.media\" :key=\"index2\" @tap.stop=\"previewImage\"\n\t\t\t\t\t\t\tmode=\"aspectFill\" :data-current=\"mediaItem\" :data-image=\"postDetail.media\" :src=\"mediaItem\">\n\t\t\t\t\t\t</image>\n\t\t\t\t\t</view>\n\t\t\t\t</block>\n\t\t\t\t<!--三张以上图片-->\n\t\t\t\t<block v-if=\"postDetail.media.length > 2\">\n\t\t\t\t\t<view class=\"img-style-3\">\n\t\t\t\t\t\t<image v-for=\"(mediaItem, index2) in postDetail.media\" :key=\"index2\" @tap.stop=\"previewImage\"\n\t\t\t\t\t\t\tmode=\"aspectFill\" :data-current=\"mediaItem\" :data-image=\"postDetail.media\" :src=\"mediaItem\">\n\t\t\t\t\t\t</image>\n\t\t\t\t\t</view>\n\t\t\t\t</block>\n\t\t\t</block>\n\t\t\t<block v-if=\"postDetail.type == 2 && postDetail.media.length > 0\"><video :controls=\"false\" :autoplay=\"true\"\n\t\t\t\t\t:src=\"postDetail.media[0]\"></video></block>\n\t\t\t<!-- 投票 -->\n\t\t\t<view v-if=\"postDetail.type === 4\" class=\"vote-box\">\n\t\t\t\t<view class=\"title\">{{ postDetail.vote_info.title }}</view>\n\t\t\t\t<view class=\"expire-time\" v-if=\"postDetail.vote_info.type === 1\">单选</view>\n\t\t\t\t<view class=\"expire-time\" v-if=\"postDetail.vote_info.type === 2\">多选</view>\n\t\t\t\t<!-- 是否投票失效 -->\n\t\t\t\t<view class=\"expire-box\" v-if=\"isVoteExpire\">投票过期了</view>\n\t\t\t\t<view v-else class=\"expire-time\">截止：{{ postDetail.vote_info.expire_time | date('yyyy年mm月dd日hh时MM分') }}\n\t\t\t\t</view>\n\t\t\t\t<view class=\"vote-item\" @click=\"castVote(index2, postDetail.vote_info.type)\"\n\t\t\t\t\t:class=\"{ active: item2.checked }\" v-for=\"(item2, index2) in postDetail.vote_info.options\"\n\t\t\t\t\t:key=\"index2\">\n\t\t\t\t\t<text v-if=\"postDetail.is_vote_result || isVoteExpire\">\n\t\t\t\t\t\t{{ item2.content }}\n\t\t\t\t\t\t<text style=\"color: #999;margin-left: 20rpx;\">({{ item2.ticket_num }}票)</text>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text v-else=\"postDetail.is_vote_result\">{{ item2.content }}</text>\n\t\t\t\t</view>\n\t\t\t\t<u-button v-if=\"!postDetail.is_vote_result && isVoteExpire === false\" @click=\"voteSubmit\">投票</u-button>\n\t\t\t</view>\n\t\t\t<!-- 圈子信息 -->\n\t\t\t<navigator v-if=\"postDetail.topic_id\" class=\"topic-info\"\n\t\t\t\t:url=\"'/pages/topic/detail?id=' + postDetail.topic_id\">\n\t\t\t\t<image mode=\"aspectFill\" class=\"cover\" :src=\"postDetail.topic_info.cover_image\"></image>\n\t\t\t\t<view class=\"center\">\n\t\t\t\t\t<view class=\"desc\">{{ postDetail.topic_info.topic_name.substring(0, 15) }}</view>\n\t\t\t\t\t<view class=\"count-txt\">{{ postDetail.topic_info.user_count }}人加圈 |\n\t\t\t\t\t\t{{ postDetail.topic_info.post_count }}篇内容\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"right\">\n\t\t\t\t\t<text>去看看</text>\n\t\t\t\t\t<u-icon name=\"arrow-right\"></u-icon>\n\t\t\t\t</view>\n\t\t\t</navigator>\n\t\t\t<!--点赞、分享、评论-->\n\t\t\t<view class=\"p-footer\">\n\t\t\t\t<block v-if=\"postDetail.is_collection\">\n\t\t\t\t\t<view class=\"p-item\" @click=\"cancelCollection\">\n\t\t\t\t\t\t<u-icon name=\"thumb-up\" color=\"#d81e06\" class=\"icon\" :size=\"35\"></u-icon>\n\t\t\t\t\t\t<text>{{ postDetail.collection_count }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</block>\n\t\t\t\t<block v-else>\n\t\t\t\t\t<view class=\"p-item\" @click=\"addCollection\">\n\t\t\t\t\t\t<u-icon name=\"thumb-up\" class=\"icon\" :size=\"35\"></u-icon>\n\t\t\t\t\t\t<text>{{ postDetail.collection_count }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</block>\n\t\t\t\t<view class=\"p-item\" @click=\"focus = true\">\n\t\t\t\t\t<u-icon name=\"chat\" class=\"icon\" :size=\"35\"></u-icon>\n\t\t\t\t\t<text>{{ postDetail.comment_count }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"p-item\" @click=\"showShare = true\">\n\t\t\t\t\t<u-icon name=\"zhuanfa\" class=\"icon\" :size=\"35\"></u-icon>\n\t\t\t\t\t<text>分享</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"comment-box\">\n\t\t\t<view class=\"title\">评论（{{ commentList.length }}）</view>\n\t\t\t<view style=\"margin-bottom: 40rpx;\" v-for=\"(item, index) in commentList\" :key=\"index\">\n\t\t\t\t<view class=\"comment-item\" @longpress=\"delComment(item, index)\">\n\t\t\t\t\t<image @click=\"jumpUser(item.userInfo.uid)\" class=\"avatar\" :src=\"item.userInfo.avatar\"></image>\n\t\t\t\t\t<view class=\"c-content\" @click=\"onReply(item)\">\n\t\t\t\t\t\t<view class=\"user\">\n\t\t\t\t\t\t\t<text>{{ item.userInfo.username }}</text>\n\t\t\t\t\t\t\t<block v-if=\"item.is_thumbs\">\n\t\t\t\t\t\t\t\t<view @click.stop=\"cancelThumbs(item.id, index)\" class=\"thumbs\">\n\t\t\t\t\t\t\t\t\t<text class=\"num\">{{ item.thumbs }}</text>\n\t\t\t\t\t\t\t\t\t<u-icon class=\"icon\" size=\"40\" name=\"heart-fill\" color=\"#e62e00\"></u-icon>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-else>\n\t\t\t\t\t\t\t\t<view @click.stop=\"onThumbs(item.id, index)\" class=\"thumbs\">\n\t\t\t\t\t\t\t\t\t<text class=\"num\">{{ item.thumbs }}</text>\n\t\t\t\t\t\t\t\t\t<u-icon class=\"icon\" size=\"40\" name=\"heart-fill\" color=\"#bfbfbf\"></u-icon>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"c-txt\">{{ item.content }}</text>\n\t\t\t\t\t\t<text class=\"time\">{{ item.create_time | timeFrom }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view @longpress=\"delComment(item, index, index2)\" @click=\"onReply(item2, index, index2)\"\n\t\t\t\t\tv-if=\"item.children.length > 0\" v-for=\"(item2, index2) in item.children\" :key=\"item2.id\"\n\t\t\t\t\tclass=\"sub-comment-item\">\n\t\t\t\t\t<view class=\"user\">\n\t\t\t\t\t\t<u-avatar class=\"avatar\" :size=\"40\" :src=\"item2.userInfo.avatar\"></u-avatar>\n\t\t\t\t\t\t<view class=\"u-head\">\n\t\t\t\t\t\t\t<text>{{ item2.userInfo.username }}</text>\n\t\t\t\t\t\t\t<block v-if=\"item2.is_thumbs\">\n\t\t\t\t\t\t\t\t<view class=\"thumbs\" @click.stop=\"cancelThumbs(item2.id, index, index2)\">\n\t\t\t\t\t\t\t\t\t<text class=\"num\">{{ item2.thumbs }}</text>\n\t\t\t\t\t\t\t\t\t<u-icon class=\"icon\" size=\"40\" name=\"heart-fill\" color=\"#e62e00\"></u-icon>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-else>\n\t\t\t\t\t\t\t\t<view class=\"thumbs\" @click.stop=\"onThumbs(item2.id, index, index2)\">\n\t\t\t\t\t\t\t\t\t<text class=\"num\">{{ item2.thumbs }}</text>\n\t\t\t\t\t\t\t\t\t<u-icon class=\"icon\" size=\"40\" name=\"heart-fill\" color=\"#bfbfbf\"></u-icon>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"reply\">\n\t\t\t\t\t\t<text>回复</text>\n\t\t\t\t\t\t<navigator :url=\"'/pages/user/home?uid=' + item2.to_user.uid\" hover-class=\"none\" class=\"name\">\n\t\t\t\t\t\t\t{{ item2.to_user.username }}\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t\t<text>：{{ item2.content }}</text>\n\t\t\t\t\t\t<view class=\"time\">{{ item2.create_time | timeFrom }}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 加载状态 -->\n\t\t\t<block v-if=\"commentList.length > 0\">\n\t\t\t\t<view style=\"margin: 30rpx;\">\n\t\t\t\t\t<u-loadmore :status=\"loadStatus\" />\n\t\t\t\t</view>\n\t\t\t</block>\n\t\t\t<block v-else>\n\t\t\t\t<u-empty text=\"暂无评论\" mode=\"message\"></u-empty>\n\t\t\t</block>\n\t\t</view>\n\t\t<view style=\"height: 100rpx;\"></view>\n\t\t<!-- 评论输入框 -->\n\t\t<view class=\"comment-tool\">\n\t\t\t<textarea :placeholder=\"placeholder\" @blur=\"onBlur\" :focus=\"focus\" fixed=\"true\" cursor-spacing=\"10\"\n\t\t\t\tv-model=\"form.content\" auto-height=\"true\" placeholder-class=\"txt-placeholder\"></textarea>\n\t\t\t<u-button type=\"warning\" @click=\"addComment\" :disabled=\"isSubmitD\" style=\"border-radius: 0;\">发布</u-button>\n\t\t</view>\n\t\t<!-- 分享选择弹窗 -->\n\t\t<u-popup v-model=\"showShare\" height=\"240rpx\" mode=\"bottom\">\n\t\t\t<view class=\"share-wrap\" @click=\"showShare = false\">\n\t\t\t\t<button open-type=\"share\" @click=\"appShare('WXSceneSession')\" class=\"share-item u-reset-button\">\n\t\t\t\t\t<image src=\"/static/wechat.png\"></image>\n\t\t\t\t\t<text>微信好友</text>\n\t\t\t\t</button>\n\t\t\t\t<view @click=\"appShare('WXSenceTimeline')\" class=\"share-item\">\n\t\t\t\t\t<image src=\"/static/pyq.png\"></image>\n\t\t\t\t\t<text>朋友圈</text>\n\t\t\t\t</view>\n\t\t\t\t<view @click=\"appShares('qq')\" class=\"share-item\">\n\t\t\t\t\t<image src=\"/static/qq.png\"></image>\n\t\t\t\t\t<text>QQ</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</u-popup>\n\t\t<!-- 海报弹窗 -->\n\t\t<u-popup v-model=\"showCanvas\" mode=\"center\" width=\"80%\">\n\t\t\t<view class=\"canvas-box\">\n\t\t\t\t<canvas style=\"width: 300px;height: 450px;\" canvas-id=\"shareCanvas\"></canvas>\n\t\t\t\t<view class=\"footer\">\n\t\t\t\t\t<q-button @click=\"saveImgToAlbum\" type=\"success\" shape=\"circle\">保存/分享</q-button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</u-popup>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tunitId: this.$c.postDetailAd,\n\t\t\t\tpostId: 0,\n\t\t\t\tpostDetail: {\n\t\t\t\t\tcomment: [],\n\t\t\t\t\tmedia: [],\n\t\t\t\t\tcomment_list: {\n\t\t\t\t\t\tdata: []\n\t\t\t\t\t},\n\t\t\t\t\ttopic_info: {\n\t\t\t\t\t\ttopic_name: ''\n\t\t\t\t\t},\n\t\t\t\t\tuserInfo: {\n\t\t\t\t\t\tavatar: ''\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfocus: false,\n\t\t\t\tisSubmitD: false,\n\t\t\t\tcommentList: [],\n\t\t\t\tplaceholder: '说点什么...',\n\t\t\t\tform: {\n\t\t\t\t\tpid: 0,\n\t\t\t\t\ttype: 1,\n\t\t\t\t\tto_uid: '',\n\t\t\t\t\tpost_id: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t},\n\t\t\t\tshowShare: false,\n\t\t\t\tshowCanvas: false,\n\t\t\t\tpage: 1,\n\t\t\t\tloadStatus: 'loadmore',\n\t\t\t\tisVoteExpire: false\n\t\t\t};\n\t\t},\n\t\tcomputed:{\n\t\t\ttimestamp(){\n\t\t\t\treturn Date.parse(new Date()) / 1000\n\t\t\t}\n\t\t},\n\t\tonShow() {\n\t\t\t// if (!this.$store.state.userInfo.uid) {\n\t\t\t// \tthis.toMy();\n\t\t\t// }\n\t\t},\n\t\tonLoad(options) {\n\t\t\tthis.postId = options.id;\n\n\t\t\tif (options.scene) {\n\t\t\t\tthis.postId = options.scene;\n\t\t\t}\n\n\t\t\tthis.form.post_id = this.postId;\n\t\t\tthis.getPostDetail();\n\t\t\tthis.getCommentList();\n\n\t\t\t//#ifdef MP-WEIXIN\n\t\t\twx.showShareMenu({\n\t\t\t\twithShareTicket: true,\n\t\t\t\tmenus: ['shareAppMessage', 'shareTimeline']\n\t\t\t});\n\t\t\t//#endif\n\t\t},\n\t\tonReachBottom() {\n\t\t\tthis.page++;\n\t\t\tthis.getCommentList();\n\t\t},\n\t\tonShareAppMessage(res) {\n\t\t\tif (res.from === 'button') {\n\t\t\t\t// 来自页面内分享按钮\n\t\t\t\tconsole.log(res.target);\n\t\t\t}\n\t\t\tlet imgURL;\n\t\t\tif (this.postDetail.media.length > 0) {\n\t\t\t\timgURL = this.postDetail.media[0];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttitle: this.postDetail.content,\n\t\t\t\tpath: '/pages/post/detail?id=' + this.postId,\n\t\t\t\timageUrl: imgURL\n\t\t\t};\n\t\t},\n\t\tonShareTimeline() {\n\t\t\tlet imgURL = (imgURL = this.postDetail.media[0]);\n\t\t\treturn {\n\t\t\t\ttitle: this.postDetail.content,\n\t\t\t\timageUrl: imgURL,\n\t\t\t\tquery: 'id=' + this.postId\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\ttoMy() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/my/my'\n\t\t\t\t});\n\t\t\t},\n\t\t\tappShares() {\n\t\t\t\tlet imgURL = (imgURL = this.postDetail.media[0]);\n\t\t\t\tlet that = this\n\t\t\t\tlet routes = getCurrentPages(); // 获取当前打开过的页面路由数组\n\t\t\t\tlet curRoute = routes[routes.length - 1].$page.fullPath // 获取当前页面路由，也就是最后一个打开的页面路由\n\t\t\t\tuni.share({\n\t\t\t\t\tprovider: \"qq\", //分享服务提供商（即weixin|qq|sinaweibo）\n\t\t\t\t\ttype: 0, //分享形式\n\t\t\t\t\thref: 'http://xy.tujingzg.com/api/post/detail?id=' + that.postId, //跳转链接\n\t\t\t\t\tsummary: that.postDetail.content, //分享内容的摘要\n\t\t\t\t\ttitle: that.postDetail.content, //分享内容的标题\n\t\t\t\t\timageUrl: imgURL, //图片地址\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '分享成功',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthat.posters = false; //成功后关闭底部弹框\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(err) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '分享失败',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthat.posters = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tappShare(scene) {\n\t\t\t\tlet imgURL = (imgURL = this.postDetail.media[0]);\n\t\t\t\tlet that = this\n\t\t\t\tlet routes = getCurrentPages(); // 获取当前打开过的页面路由数组\n\t\t\t\tlet curRoute = routes[routes.length - 1].$page.fullPath // 获取当前页面路由，也就是最后一个打开的页面路由\n\t\t\t\tuni.share({\n\t\t\t\t\tprovider: \"weixin\", //分享服务提供商（即weixin|qq|sinaweibo）\n\t\t\t\t\tscene: scene, //场景，可取值参考下面说明。\n\t\t\t\t\ttype: 0, //分享形式\n\t\t\t\t\thref: 'http://xy.tujingzg.com/api/post/detail?id=' + that.postId, //跳转链接\n\t\t\t\t\tsummary: that.postDetail.content, //分享内容的摘要\n\t\t\t\t\ttitle: that.postDetail.content, //分享内容的标题\n\t\t\t\t\timageUrl: imgURL, //图片地址\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '分享成功',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthat.posters = false; //成功后关闭底部弹框\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(err) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '分享失败',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthat.posters = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tvoteSubmit() {\n\t\t\t\tlet voteDate = [];\n\t\t\t\tthis.postDetail.vote_info.options.forEach(item => {\n\t\t\t\t\tif (item.checked) {\n\t\t\t\t\t\tvoteDate.push(item.id);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('vote/userVote', {\n\t\t\t\t\t\tid: this.postDetail.vote_info.id,\n\t\t\t\t\t\tvote: voteDate\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tthis.getPostDetail();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tcastVote(index, type) {\n\t\t\t\tif (!this.postDetail.is_vote_result && !this.isVoteExpire) {\n\t\t\t\t\tif (type === 1) {\n\t\t\t\t\t\tthis.postDetail.vote_info.options.forEach(item => {\n\t\t\t\t\t\t\tthis.$set(item, 'checked', false);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tlet checked = this.postDetail.vote_info.options[index].checked;\n\t\t\t\t\tif (checked) {\n\t\t\t\t\t\tthis.$set(this.postDetail.vote_info.options[index], 'checked', false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$set(this.postDetail.vote_info.options[index], 'checked', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 删除评论\n\t\t\tdelComment(e, index, index2) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet user = uni.getStorageSync('userInfo');\n\n\t\t\t\tif (e.uid != user.uid) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '确定删除该评论？',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthat.$H\n\t\t\t\t\t\t\t\t.post('comment/del', {\n\t\t\t\t\t\t\t\t\tid: e.id\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then(res2 => {\n\t\t\t\t\t\t\t\t\tif (res2.code == 200) {\n\t\t\t\t\t\t\t\t\t\tif (index2 || index2 === 0) {\n\t\t\t\t\t\t\t\t\t\t\tthat.commentList[index].children.splice(index2, 1);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthat.commentList.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t// console.log('用户点击取消');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tonCopy() {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: this.postDetail.content,\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '复制成功'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 保存海报到相册\n\t\t\tsaveImgToAlbum() {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\twidth: 300,\n\t\t\t\t\theight: 450,\n\t\t\t\t\tcanvasId: 'shareCanvas',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\tthat.showCanvas = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 生成分享海报\n\t\t\tasync shareCanvas() {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\ttitle: '正在生成海报'\n\t\t\t\t});\n\n\t\t\t\tthis.showCanvas = true;\n\t\t\t\tthis.showShare = false;\n\t\t\t\tvar context = uni.createCanvasContext('shareCanvas');\n\n\t\t\t\t//白色背景矩形\n\t\t\t\tcontext.setFillStyle('#FFFFFF');\n\t\t\t\tcontext.fillRect(0, 0, 300, 450);\n\n\t\t\t\t//帖子封面\n\t\t\t\tlet coverSrc;\n\t\t\t\tif (this.postDetail.media[0]) {\n\t\t\t\t\tcoverSrc = this.postDetail.media[0];\n\t\t\t\t} else {\n\t\t\t\t\tcoverSrc = 'https://' + this.$c.baseUrl + '/uploads/default_shre_bg.jpg';\n\t\t\t\t}\n\n\t\t\t\tlet coverImg = await this.downloadFile(coverSrc);\n\t\t\t\tcontext.drawImage(coverImg, 0, 0, 300, 240);\n\n\t\t\t\t// 文字内容\n\t\t\t\tcontext.setFillStyle('#616161');\n\t\t\t\tcontext.setFontSize(14);\n\t\t\t\tthis.drawText(context, this.postDetail['content'], 20, 270, 30, 260, 5);\n\n\t\t\t\t// 来源\n\t\t\t\tcontext.setFillStyle('#616161');\n\t\t\t\tcontext.setFontSize(14);\n\t\t\t\tcontext.fillText('来源：云喵圈子', 20, 430, 300);\n\n\t\t\t\t// 圈子二维码\n\t\t\t\tlet qrCode = await this.getQrCode();\n\t\t\t\tlet tempQrCode = await this.downloadFile(qrCode);\n\t\t\t\tcontext.drawImage(tempQrCode, 220, 370, 70, 70);\n\n\t\t\t\tcontext.draw();\n\n\t\t\t\tuni.hideLoading();\n\t\t\t},\n\t\t\t/**\n\t\t\t * 绘制多行文本\n\t\t\t * ctx canvas对象\n\t\t\t * str 文本\n\t\t\t * leftWidth 距离左侧的距离\n\t\t\t * initHeight 距离顶部的距离\n\t\t\t * titleHeight 文本的高度\n\t\t\t * canvasWidth 文本的宽度\n\t\t\t * canvasWidth 文本行数\n\t\t\t * @returns {*}\n\t\t\t */\n\t\t\tdrawText(ctx, str, leftWidth, initHeight, titleHeight, canvasWidth, maxRow) {\n\t\t\t\tlet rowNum = 1;\n\t\t\t\tlet lineWidth = 0;\n\t\t\t\tlet lastSubStrIndex = 0; //每次开始截取的字符串的索引\n\t\t\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\t\t\tlineWidth += ctx.measureText(str[i]).width;\n\t\t\t\t\tif (lineWidth > canvasWidth && rowNum <= maxRow) {\n\t\t\t\t\t\tctx.fillText(str.substring(lastSubStrIndex, i), leftWidth, initHeight); //绘制截取部分\n\t\t\t\t\t\tinitHeight += 22; //22为 文字大小20 + 2\n\t\t\t\t\t\tlineWidth = 0;\n\t\t\t\t\t\tlastSubStrIndex = i;\n\t\t\t\t\t\ttitleHeight += 22;\n\n\t\t\t\t\t\trowNum++;\n\t\t\t\t\t}\n\t\t\t\t\tif (i == str.length - 1 && rowNum <= maxRow) {\n\t\t\t\t\t\t//绘制剩余部分\n\t\t\t\t\t\tctx.fillText(str.substring(lastSubStrIndex, i + 1), leftWidth, initHeight);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// 标题border-bottom 线距顶部距离\n\t\t\t\ttitleHeight = titleHeight + 10;\n\t\t\t\treturn titleHeight;\n\t\t\t},\n\t\t\tdownloadFile(url) {\n\t\t\t\treturn new Promise(resolve => {\n\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tresolve(res.tempFilePath);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetQrCode() {\n\t\t\t\treturn new Promise(resolve => {\n\t\t\t\t\tthis.$H\n\t\t\t\t\t\t.get('post/qrCode', {\n\t\t\t\t\t\t\tid: this.postId\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tresolve(res.result);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 点赞\n\t\t\tonThumbs(id, index, index2) {\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('comment/thumbs', {\n\t\t\t\t\t\tid: id\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tif (index2 || index2 == 0) {\n\t\t\t\t\t\t\t\tthis.commentList[index].children[index2].is_thumbs = true;\n\t\t\t\t\t\t\t\tthis.commentList[index].children[index2].thumbs++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.commentList[index].is_thumbs = true;\n\t\t\t\t\t\t\t\tthis.commentList[index].thumbs++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t// 取消点赞\n\t\t\tcancelThumbs(id, index, index2) {\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('comment/cancelThumbs', {\n\t\t\t\t\t\tid: id\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tif (index2 || index2 == 0) {\n\t\t\t\t\t\t\t\tthis.commentList[index].children[index2].is_thumbs = false;\n\t\t\t\t\t\t\t\tthis.commentList[index].children[index2].thumbs--;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.commentList[index].is_thumbs = false;\n\t\t\t\t\t\t\t\tthis.commentList[index].thumbs--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t// 回复评论\n\t\t\tonReply(e) {\n\t\t\t\tthis.placeholder = '回复：' + e.userInfo.username;\n\t\t\t\tthis.focus = true;\n\n\t\t\t\tlet pid = e.pid;\n\t\t\t\tif (pid === 0) {\n\t\t\t\t\tthis.form.pid = e.id;\n\t\t\t\t} else {\n\t\t\t\t\tthis.form.pid = e.pid;\n\t\t\t\t}\n\n\t\t\t\tthis.form.to_uid = e.userInfo.uid;\n\t\t\t\tthis.form.post_id = this.postId;\n\t\t\t},\n\t\t\t// 输入框失去焦点时\n\t\t\tonBlur() {\n\t\t\t\tthis.placeholder = '说点什么...';\n\t\t\t\tthis.focus = false;\n\t\t\t\tthis.form.pid = 0;\n\t\t\t},\n\t\t\t// 获取评论列表\n\t\t\tgetCommentList() {\n\t\t\t\tthis.loadStatus = 'loading';\n\t\t\t\tthis.$H\n\t\t\t\t\t.get('comment/list', {\n\t\t\t\t\t\tpost_id: this.postId,\n\t\t\t\t\t\tpage: this.page\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tthis.commentList = this.commentList.concat(res.result.data);\n\n\t\t\t\t\t\t\tif (res.result.current_page === res.result.last_page || res.result.last_page === 0) {\n\t\t\t\t\t\t\t\tthis.loadStatus = 'nomore';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.loadStatus = 'loadmore';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tjumpUser(uid) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/user/home?uid=' + uid\n\t\t\t\t});\n\t\t\t},\n\t\t\taddComment() {\n\t\t\t\tthis.isSubmitD = true;\n\t\t\t\tif (this.form.content == '') {\n\t\t\t\t\tthis.$u.toast('评论不能为空');\n\t\t\t\t\tthis.isSubmitD = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\ttitle: '发布中'\n\t\t\t\t});\n\n\t\t\t\tthis.$H.post('post/addComment', this.form).then(res => {\n\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\tthis.form.content = '';\n\t\t\t\t\t\tthis.$u.toast('评论成功');\n\t\t\t\t\t\tthis.page = 1;\n\t\t\t\t\t\tthis.getPostDetail();\n\t\t\t\t\t\tthis.commentList = [];\n\t\t\t\t\t\tthis.getCommentList();\n\t\t\t\t\t}\n\t\t\t\t\tthis.isSubmitD = false;\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetPostDetail() {\n\t\t\t\tthis.$H\n\t\t\t\t\t.get('post/detail', {\n\t\t\t\t\t\tid: this.postId\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.postDetail = res.result;\n\n\t\t\t\t\t\t// 投票帖子\n\t\t\t\t\t\tif (res.result.vote_id > 0) {\n\t\t\t\t\t\t\tres.result.vote_info.options.forEach(item => {\n\t\t\t\t\t\t\t\tthis.$set(item, 'checked', false);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tlet timestamp = Date.parse(new Date()) / 1000;\n\t\t\t\t\t\t\tif (res.result.vote_info.expire_time < timestamp) {\n\t\t\t\t\t\t\t\tthis.isVoteExpire = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tcancelCollection() {\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('post/cancelCollection', {\n\t\t\t\t\t\tid: this.postId\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tthis.postDetail.is_collection = false;\n\t\t\t\t\t\t\tthis.postDetail.collection_count--;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\taddCollection() {\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('post/addCollection', {\n\t\t\t\t\t\tid: this.postId,\n\t\t\t\t\t\tuid: this.postDetail.uid\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tthis.postDetail.is_collection = true;\n\t\t\t\t\t\t\tthis.postDetail.collection_count++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\taddThumb() {\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('post/addThumb', {\n\t\t\t\t\t\tid: this.postId\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tthis.postDetail.is_thumb = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tcancelThumb() {\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('post/cancelThumb', {\n\t\t\t\t\t\tid: this.postId,\n\t\t\t\t\t\tuid: this.postDetail.uid\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tthis.postDetail.is_thumb = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tfollow() {\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('user/addFollow', {\n\t\t\t\t\t\tid: this.postDetail.uid\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tthis.postDetail.is_follow = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$refs.uToast.show({\n\t\t\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tcancelFollow() {\n\t\t\t\tthis.$H\n\t\t\t\t\t.post('user/cancelFollow', {\n\t\t\t\t\t\tid: this.postDetail.uid\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tthis.postDetail.is_follow = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tpreviewImage(e) {\n\t\t\t\tlet that = this;\n\t\t\t\tthis.$H.post(\"post/checkint\",{\n\t\t\t\t\tpost_id:this.postId\n\t\t\t\t}).then(res3 =>{\n\t\t\t\t\tif(res3.code==200){\n\t\t\t\t\t\tthat.$u.toast('');\n\t\t\t\t\t\tuni.previewImage({\n\t\t\t\t\t\t\tcurrent: e.currentTarget.dataset\n\t\t\t\t\t\t\t\t.current, // 当前显示图片的http链接\n\t\t\t\t\t\t\turls: e.currentTarget.dataset.image // 需要预览的图片http链接列表\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthat.$u.toast('');\n\t\t\t\tif (that.postDetail.integral == 0) {\n\t\t\t\t\tuni.previewImage({\n\t\t\t\t\t\tcurrent: e.currentTarget.dataset\n\t\t\t\t\t\t\t.current, // 当前显示图片的http链接\n\t\t\t\t\t\turls: e.currentTarget.dataset.image // 需要预览的图片http链接列表\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthat.$u.toast('');\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '下载将消耗一次下载次数,确认后长按保存图片即可',\n\t\t\t\t\t\tcontent: '原创作者拍摄不易，未经原创作者授权，禁止任何商业用途',\n\t\t\t\t\t\tsuccess: function(res2) {\n\t\t\t\t\t\t\tif (res2.confirm) {\n\t\t\t\t\t\t\t\tthat.$H\n\t\t\t\t\t\t\t\t\t.post('post/numdownimg', {\n\t\t\t\t\t\t\t\t\t\tpost_id: that.postId\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.then(res1 => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res1)\n\t\t\t\t\t\t\t\t\t\tif (res1.code === 200) {\n\t\t\t\t\t\t\t\t\t\t\tuni.previewImage({\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent: e.currentTarget.dataset\n\t\t\t\t\t\t\t\t\t\t\t\t\t.current, // 当前显示图片的http链接\n\t\t\t\t\t\t\t\t\t\t\t\turls: e.currentTarget.dataset\n\t\t\t\t\t\t\t\t\t\t\t\t\t.image // 需要预览的图片http链接列表\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '你的下载次数不足',\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '此内容需打赏[' + that.postDetail.integral + ']音叶',\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.$H\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.post('post/jfdownimg', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpost_id: that.postId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(res3 => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res3.code === 200) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.previewImage({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent: e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.currentTarget\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.dataset\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.current, // 当前显示图片的http链接\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turls: e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.currentTarget\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.dataset\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.image // 需要预览的图片http链接列表\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.$u.toast(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'音叶不足，请充值音叶或成为会员'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.jumpVip();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tjumpVip() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/my/vip'\n\t\t\t\t});\n\t\t\t},\n\t\t}\n\t};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.post-title {\n\t\tmargin: 20rpx 0;\n\t}\n\n\t.info-box {\n\t\tpadding: 20rpx;\n\t\tbackground-color: #ffffff;\n\t}\n\n\t.icon text {\n\t\tfont-size: 12px;\n\t\tcolor: #999;\n\t\tmargin-right: 20rpx;\n\t}\n\n\t/*关注*/\n\n\t.user-item {\n\t\tdisplay: flex;\n\n\t\t.user-item-user {\n\t\t\tflex: 1;\n\n\t\t\t.cxplain {\n\t\t\t\tfont-size: 12px;\n\t\t\t\tcolor: #999;\n\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t-webkit-line-clamp: 1;\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t}\n\n\t\timage {\n\t\t\twidth: 80rpx;\n\t\t\theight: 80rpx;\n\t\t\tfloat: left;\n\t\t\tmargin-right: 10rpx;\n\t\t\tborder-radius: 50%;\n\t\t}\n\t}\n\n\t/*底部操作*/\n\t.p-footer {\n\t\tmargin: 30rpx;\n\t\tdisplay: flex;\n\t\tfont-size: 24rpx;\n\t\tcolor: #616161;\n\n\t\t.p-item {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t.icon {\n\t\t\t\tmargin-right: 10rpx;\n\t\t\t}\n\n\t\t\t&:nth-child(2) {\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\n\t\t\t.iconfont {\n\t\t\t\tmargin-right: 10rpx;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*评论列表*/\n\t.comment-box {\n\t\tbackground-color: #ffffff;\n\t\tmargin-top: 20rpx;\n\t\tpadding: 20rpx;\n\t}\n\n\t.comment-box>.title {\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.comment-item {\n\t\tdisplay: flex;\n\t\tpadding: 20rpx;\n\n\t\t&:active {\n\t\t\tbackground-color: #f5f5f5;\n\t\t}\n\n\t\t.c-content {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex: 1;\n\n\t\t\t.time {\n\t\t\t\tcolor: #999;\n\t\t\t\tfont-size: 10px;\n\t\t\t}\n\n\t\t\t.user {\n\t\t\t\tdisplay: flex;\n\n\t\t\t\t.thumbs {\n\t\t\t\t\tmargin-left: auto;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tcolor: #bfbfbf;\n\n\t\t\t\t\t.num {\n\t\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.avatar {\n\t\t\twidth: 100rpx;\n\t\t\theight: 100rpx;\n\t\t\tborder-radius: 50%;\n\t\t\tborder: 1px solid #dd524d;\n\t\t\tmargin-right: 20rpx;\n\t\t}\n\t}\n\n\t.sub-comment-item {\n\t\tmargin-left: 100rpx;\n\t\tpadding: 20rpx;\n\n\t\t&:active {\n\t\t\tbackground-color: #f5f5f5;\n\t\t}\n\n\t\t.user {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t.name {\n\t\t\t\tcolor: #616161;\n\t\t\t}\n\n\t\t\t.avatar {\n\t\t\t\tmargin-right: 10rpx;\n\t\t\t}\n\n\t\t\t.u-head {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\n\t\t\t\t.thumbs {\n\t\t\t\t\tmargin-left: auto;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tcolor: #bfbfbf;\n\n\t\t\t\t\t.num {\n\t\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.reply {\n\t\t\t.time {\n\t\t\t\tmargin-left: auto;\n\t\t\t\tfont-size: 20rpx;\n\t\t\t\tcolor: #999;\n\t\t\t}\n\n\t\t\t.name {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tcolor: #2b85e4;\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* 评论tool */\n\t.comment-tool {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\twidth: 100%;\n\t\tbackground-color: #fff;\n\t\tpadding: 20rpx;\n\t\tdisplay: flex;\n\t\tz-index: 999;\n\t}\n\n\t.comment-tool textarea {\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 20rpx;\n\t\tborder-radius: 10rpx;\n\t\tmin-height: 40rpx;\n\t}\n\n\t.comment-tool .u-btn {\n\t\tmargin-left: 10rpx;\n\t}\n\n\t/*文章图片*/\n\t.img-style-1 {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tmax-height: 600rpx;\n\t\tborder-radius: 5px;\n\t}\n\n\t.img-style-2 {\n\t\tdisplay: flex;\n\t}\n\n\t.img-style-2 image {\n\t\tmargin: 5rpx;\n\t\tborder-radius: 5px;\n\t\twidth: 100%;\n\t\theight: 294rpx;\n\t}\n\n\t.img-style-3 {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t}\n\n\t.img-style-3 image {\n\t\twidth: 31.3%;\n\t\theight: 200rpx;\n\t\tmargin: 1%;\n\t\tborder-radius: 5px;\n\t}\n\n\t// 圈子信息\n\t.topic-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #f5f5f5;\n\t\tmargin: 20rpx 0;\n\n\t\t.cover {\n\t\t\twidth: 100rpx;\n\t\t\theight: 100rpx;\n\t\t\tmargin-right: 20rpx;\n\t\t}\n\n\t\t.center {\n\t\t\tflex: 1;\n\n\t\t\t.count-txt {\n\t\t\t\tcolor: #999;\n\t\t\t}\n\t\t}\n\n\t\t.right {\n\t\t\tmargin-left: 20rpx;\n\t\t\tcolor: #f29100;\n\t\t}\n\t}\n\n\t// 分享弹窗\n\t.share-wrap {\n\t\tdisplay: flex;\n\t\tpadding: 30rpx;\n\t\twidth: 50%;\n\t\tmargin: 0 auto;\n\n\t\t.share-item {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\n\t\t\t&:nth-child(1) {\n\t\t\t\tmargin-right: auto;\n\t\t\t}\n\n\t\t\timage {\n\t\t\t\twidth: 100rpx;\n\t\t\t\theight: 100rpx;\n\t\t\t}\n\n\t\t\ttext {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tmargin-top: 20rpx;\n\t\t\t}\n\t\t}\n\t}\n\n\t//海报弹窗\n\t.canvas-box {\n\t\theight: 560px;\n\t\tposition: relative;\n\n\t\t.footer {\n\t\t\tposition: absolute;\n\t\t\tbottom: 20rpx;\n\t\t\tleft: 20rpx;\n\t\t\tright: 20rpx;\n\t\t}\n\t}\n\n\t// 投票\n\t.vote-box {\n\t\tbackground-color: #f5f5f5;\n\t\tborder-radius: 20rpx;\n\t\tpadding: 20rpx;\n\t\tmargin: 20rpx;\n\n\t\t.title {\n\t\t\tfont-weight: bold;\n\t\t}\n\n\t\t.expire-time {\n\t\t\tfont-size: 24rpx;\n\t\t\tmargin: 20rpx 0;\n\t\t}\n\n\t\t.vote-item {\n\t\t\tfont-size: 24rpx;\n\t\t\tfont-weight: bold;\n\t\t\tpadding: 20rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tborder: 1px solid #999;\n\t\t\ttext-align: center;\n\t\t\tmargin-bottom: 20rpx;\n\n\t\t\t&:last-child {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t}\n\n\t\t.active {\n\t\t\tbackground-color: #333;\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n\n\t.expire-box {\n\t\tbackground-color: #999;\n\t\tcolor: #fff;\n\t\tfont-size: 24rpx;\n\t\tdisplay: inline-block;\n\t\tpadding: 0 20rpx;\n\t\tborder-radius: 10rpx;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\tvideo {\n\t\twidth: 100%;\n\t}\n\n\t.post-text {\n\t\twhite-space: pre-wrap;\n\t}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=3c0a1cb7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=3c0a1cb7&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1699076225393\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}